(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EditarColaboradores"],{"30c2":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const o=Object(l["l"])(" Você perdeu a conexão com a internet. Este aplicativo está off-line. "),s={class:"row justify-center"},i={class:"col-xs-12 col-sm-12 col-md-3 col-lg-2"},r={class:"q-pa-md"},c={class:"text-subtitle2 absolute-bottom text-center"},n={class:"col-xs-12 col-sm-12 col-md-7 col-lg-6"},d={class:"q-pa-md"},u={class:"text-h6 text-primary"},b={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},m={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},p={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},g={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},h={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},O={class:"text-h6 text-primary"},j={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},v={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"};function f(e,t,a,f,y,w){const x=Object(l["L"])("Header"),q=Object(l["L"])("q-btn"),V=Object(l["L"])("q-banner"),k=Object(l["L"])("q-img"),U=Object(l["L"])("q-card"),C=Object(l["L"])("q-card-section"),_=Object(l["L"])("q-btn-toggle"),S=Object(l["L"])("q-input"),B=Object(l["L"])("q-inner-loading"),L=Object(l["L"])("q-card-actions"),T=Object(l["L"])("q-separator"),P=Object(l["L"])("q-icon"),Q=Object(l["L"])("q-page"),A=Object(l["L"])("q-page-container"),E=Object(l["L"])("q-layout");return Object(l["E"])(),Object(l["h"])(E,{class:"bg-grey-4",view:"lHh Lpr lFf"},{default:Object(l["U"])(()=>[Object(l["m"])(x,{cmail:e.cmail,labelDashboard:e.labelDashboard},null,8,["cmail","labelDashboard"]),Object(l["m"])(A,null,{default:Object(l["U"])(()=>[Object(l["m"])(Q,null,{default:Object(l["U"])(()=>[Object(l["m"])(V,{"inline-actions":"",class:"text-white bg-red",style:{display:"none"}},{action:Object(l["U"])(()=>[Object(l["m"])(q,{flat:"",color:"white",label:"Ativar Wi-Fi"})]),default:Object(l["U"])(()=>[o]),_:1}),Object(l["k"])("div",s,[Object(l["k"])("div",i,[Object(l["k"])("div",r,[Object(l["m"])(U,{flat:"",bordered:"",class:"my-card"},{default:Object(l["U"])(()=>[Object(l["m"])(k,{src:y.avatar},{default:Object(l["U"])(()=>[Object(l["k"])("div",c,Object(l["P"])(y.name),1)]),_:1},8,["src"])]),_:1})])]),Object(l["k"])("div",n,[Object(l["k"])("div",d,[Object(l["m"])(U,{flat:"",bordered:"",class:"bg-white"},{default:Object(l["U"])(()=>[Object(l["k"])("form",{id:"collaborator-form",onSubmit:t[5]||(t[5]=Object(l["X"])((...e)=>w.editCollaborator&&w.editCollaborator(...e),["prevent"]))},[Object(l["m"])(C,{class:"bg-grey-1"},{default:Object(l["U"])(()=>[Object(l["k"])("div",u,[Object(l["l"])(Object(l["P"])(f.pageTitle)+" ",1),Object(l["k"])("small",null,Object(l["P"])(y.name),1)])]),_:1}),Object(l["m"])(C,{class:"row q-col-gutter-sm q-col-gutter-md q-pt-lg q-pb-lg"},{default:Object(l["U"])(()=>[Object(l["k"])("div",b,[Object(l["m"])(_,{modelValue:y.role,"onUpdate:modelValue":t[0]||(t[0]=e=>y.role=e),spread:"",class:"my-custom-toggle","no-caps":"",unelevated:"","toggle-color":"primary",color:"grey-2","text-color":"primary",options:[{label:"Auxiliar",value:"assistant"},{label:"Técnico",value:"technical"},{label:"Especialista",value:"expert"},{label:"Veterinário",value:"vet"}]},null,8,["modelValue"])]),Object(l["k"])("div",m,["vet"==y.role||"expert"==y.role?(Object(l["E"])(),Object(l["h"])(S,{key:0,outlined:"",modelValue:y.crmv,"onUpdate:modelValue":t[1]||(t[1]=e=>y.crmv=e),label:"CRMV",mask:"###.###.###-##","fill-mask":"_"},null,8,["modelValue"])):Object(l["i"])("",!0)])]),_:1}),Object(l["m"])(C,{class:"row q-col-gutter-md"},{default:Object(l["U"])(()=>[Object(l["k"])("div",p,[Object(l["m"])(S,{outlined:"",modelValue:y.name,"onUpdate:modelValue":t[2]||(t[2]=e=>y.name=e),label:"Nome*",rules:[e=>!!e||"Esse campo é obrigatório!"]},null,8,["modelValue","rules"])]),Object(l["k"])("div",g,[Object(l["m"])(S,{outlined:"",modelValue:y.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>y.phone=e),label:"Telefone*",mask:"(##) # ####-####","fill-mask":"_",rules:[e=>!!e||"Esse campo é obrigatório!"]},null,8,["modelValue","rules"])]),Object(l["k"])("div",h,[Object(l["m"])(S,{outlined:"",modelValue:y.email,"onUpdate:modelValue":t[4]||(t[4]=e=>y.email=e),type:"email",label:"E-mail*",rules:[e=>!!e||"Esse campo é obrigatório!"],disable:""},null,8,["modelValue","rules"])])]),_:1}),Object(l["m"])(L,{vertical:"",align:"around"},{default:Object(l["U"])(()=>[Object(l["m"])(q,{id:"editCollaborator",type:"submit",loading:f.submitting,size:"13px",icon:"las la-cloud-upload-alt",label:"Alterar",color:"primary text-uppercase q-ma-sm"},{loading:Object(l["U"])(()=>[Object(l["m"])(B,{showing:e.visible,label:"Please wait...","label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"])]),_:1},8,["loading"])]),_:1})],32)]),_:1}),Object(l["m"])(T,{color:"transparent",spaced:"lg"}),Object(l["m"])(U,{flat:"",bordered:"",class:"bg-white"},{default:Object(l["U"])(()=>[Object(l["k"])("form",{id:"user-form",onSubmit:t[11]||(t[11]=Object(l["X"])((...e)=>w.editUser&&w.editUser(...e),["prevent"]))},[Object(l["m"])(C,{class:"bg-grey-1"},{default:Object(l["U"])(()=>[Object(l["k"])("div",O,[Object(l["k"])("small",null,Object(l["P"])(f.pageSubTitle),1)])]),_:1}),Object(l["m"])(C,{class:"row q-col-gutter-sm q-col-gutter-md q-pt-lg q-pb-lg"},{default:Object(l["U"])(()=>[Object(l["m"])(_,{modelValue:y.type,"onUpdate:modelValue":t[6]||(t[6]=e=>y.type=e),spread:"",class:"my-custom-toggle","no-caps":"",unelevated:"","toggle-color":"primary",color:"grey-2","text-color":"primary",options:[{label:"Externo",value:"invited"},{label:"Assistente",value:"assistant"},{label:"Especialista",value:"expert"},{label:"Veterinário",value:"vet"},{label:"Administrador",value:"admin"}]},null,8,["modelValue"])]),_:1}),Object(l["m"])(C,{class:"row q-col-gutter-sm q-col-gutter-md q-pt-lg q-pb-lg"},{default:Object(l["U"])(()=>[Object(l["k"])("div",j,[Object(l["m"])(S,{outlined:"",modelValue:y.username,"onUpdate:modelValue":t[7]||(t[7]=e=>y.username=e),type:"username",label:"Username*",rules:[e=>!!e||"Esse campo é obrigatório!"],disable:""},null,8,["modelValue","rules"])]),Object(l["k"])("div",v,[Object(l["m"])(S,{modelValue:y.password,"onUpdate:modelValue":t[9]||(t[9]=e=>y.password=e),filled:"",type:e.isPwd?"password":"text",hint:"Digite uma nova senha"},{append:Object(l["U"])(()=>[Object(l["m"])(P,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[8]||(t[8]=t=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"])])]),_:1}),Object(l["m"])(C,{class:"row q-col-gutter-sm q-col-gutter-md q-pt-lg q-pb-lg"},{default:Object(l["U"])(()=>[Object(l["m"])(_,{modelValue:y.status,"onUpdate:modelValue":t[10]||(t[10]=e=>y.status=e),spread:"",class:"my-custom-toggle","no-caps":"",unelevated:"","toggle-color":"primary",color:"grey-2","text-color":"primary",options:[{label:"Ativar",value:"active"},{label:"Inativar",value:"inactive"},{label:"Bloquear",value:"blocked"},{label:"Deletar",value:"deleted"}]},null,8,["modelValue"])]),_:1}),Object(l["m"])(L,{vertical:"",align:"around"},{default:Object(l["U"])(()=>[Object(l["m"])(q,{id:"edituser",type:"submit",loading:f.submitting,size:"13px",icon:"las la-cloud-upload-alt",label:"Alterar",color:"primary text-uppercase q-ma-sm"},{loading:Object(l["U"])(()=>[Object(l["m"])(B,{showing:e.visible,label:"Please wait...","label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"])]),_:1},8,["loading"])]),_:1})],32)]),_:1})])])])]),_:1})]),_:1})]),_:1})}var y=a("b3fe"),w=a("0418");const x={origin:"agpublick.com.br",url:"https://agpublick.com.br/invet/api/collaborators",urluser:"https://agpublick.com.br/invet/api/users"};var q={name:"Home",search:"Pesquisar",components:{Header:w["a"]},setup(){const e=Object(y["a"])(),t=Object(l["J"])(!1);return{setup:x,submitting:t,pageTitle:"Editar: ",pageSubTitle:"Dados de acesso",showNotif(t,a,l){e.notify({message:t,color:a,icon:l})}}},data(){return{transaction:null,id:null,uid:null,username:null,name:null,email:null,password:null,role:null,type:null,crmv:null,phone:null,avatar:null,status:null,expertise:null}},methods:{async getCollaborator(){const e=await fetch(this.setup.url+"/"+this.$route.params.id);this.data=await e.json(),this.user=this.data.data.user,this.collaborator=this.data.data.collaborator,this.uid=this.user.id,this.username=this.user.username,this.type=this.user.type,this.status=this.user.status,this.id=this.collaborator.id,this.name=this.collaborator.name,this.email=this.collaborator.email,this.role=this.collaborator.role,this.crmv=this.collaborator.crmv,this.phone=this.collaborator.phone,this.avatar=this.collaborator.avatar,this.expertise=this.collaborator.expertise},async editCollaborator(){this.submitting=!0;const e={transaction:"update",id:this.id,uid:this.uid,name:this.name,email:this.email,crmv:this.crmv,avatar:this.avatar,phone:this.phone,expertise:this.expertise,role:this.role},t=JSON.stringify(e);if(e.name&&e.email&&e.phone){const e=await fetch(this.setup.url+"/"+this.id+"/edit",{method:"POST",mode:"cors",headers:{Origin:this.setup.origin,Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:t}),a=await e.json();a?(this.transaction="",this.id="",this.uid="",this.name="",this.email="",this.password="",this.crmv="",this.avatar="",this.phone="",this.expertise="",this.role="",this.showNotif(a.data.msg,"green","las la-thumbs-up"),this.$router.go(-1)):this.showNotif("Ooops! Algo inesperado ocorreu. Tente mais tarde!","red","las la-bomb")}else this.showNotif("Por favor. Os campos com * são obrigatórios.","red","las la-exclamation-triangle");this.submitting=!1},async editUser(){this.submitting=!0;const e={transaction:"update",id:this.uid,username:this.username,password:this.password,status:this.status,type:this.type},t=JSON.stringify(e);if(e.id){const e=await fetch(this.setup.urluser+"/"+this.uid+"/edit",{method:"POST",mode:"cors",headers:{Origin:this.setup.origin,Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:t}),a=await e.json();a?(this.transaction="",this.id="",this.username="",this.password="",this.status="",this.type="",this.showNotif(a.data.msg,"green","las la-thumbs-up"),this.$router.go(-1)):this.showNotif("Ooops! Algo inesperado ocorreu. Tente mais tarde!","red","las la-bomb")}else this.showNotif("Por favor. Os campos com * são obrigatórios.","red","las la-exclamation-triangle");this.submitting=!1}},mounted(){this.getCollaborator()}},V=a("6b0d"),k=a.n(V),U=a("4d5a"),C=a("09e3"),_=a("9989"),S=a("54e1"),B=a("9c40"),L=a("f09f"),T=a("068f"),P=a("a370"),Q=a("6a67"),A=a("27f9"),E=a("4b7e"),z=a("74f7"),N=a("eb85"),D=a("0016"),I=a("93dc"),J=a.n(I);const F=k()(q,[["render",f]]);t["default"]=F;J()(q,"components",{QLayout:U["a"],QPageContainer:C["a"],QPage:_["a"],QBanner:S["a"],QBtn:B["a"],QCard:L["a"],QImg:T["a"],QCardSection:P["a"],QBtnToggle:Q["a"],QInput:A["a"],QCardActions:E["a"],QInnerLoading:z["a"],QSeparator:N["a"],QIcon:D["a"]})},"4b7e":function(e,t,a){"use strict";var l=a("7a23"),o=a("906a"),s=a("050a"),i=a("cdf5");t["a"]=Object(s["a"])({name:"QCardActions",props:{...o["b"],vertical:Boolean},setup(e,{slots:t}){const a=Object(o["a"])(e),s=Object(l["f"])(()=>"q-card__actions "+a.value+" q-card__actions--"+(!0===e.vertical?"vert column":"horiz row"));return()=>Object(l["p"])("div",{class:s.value},Object(i["d"])(t.default))}})},"6a67":function(e,t,a){"use strict";var l=a("7a23"),o=a("9c40"),s=a("e7a9"),i=a("050a"),r=a("1d8e"),c=a("cdf5");t["a"]=Object(i["a"])({name:"QBtnToggle",props:{...r["d"],modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(e=>("label"in e||"icon"in e||"slot"in e)&&"value"in e)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:a}){const i=Object(l["f"])(()=>void 0!==e.options.find(t=>t.value===e.modelValue)),n=Object(l["f"])(()=>({type:"hidden",name:e.name,value:e.modelValue})),d=Object(r["b"])(n),u=Object(l["f"])(()=>e.options.map((t,a)=>{const{attrs:l,value:o,slot:s,...i}=t;return{slot:s,props:{key:a,onClick(e){b(o,t,e)},"aria-pressed":o===e.modelValue?"true":"false",...l,...i,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,dense:e.dense,disable:!0===e.disable||!0===i.disable,color:o===e.modelValue?m(i,"toggleColor"):m(i,"color"),textColor:o===e.modelValue?m(i,"toggleTextColor"):m(i,"textColor"),noCaps:!0===m(i,"noCaps"),noWrap:!0===m(i,"noWrap"),size:m(i,"size"),padding:m(i,"padding"),ripple:m(i,"ripple"),stack:!0===m(i,"stack"),stretch:!0===m(i,"stretch")}}}));function b(t,l,o){!0!==e.readonly&&(e.modelValue===t?!0===e.clearable&&(a("update:modelValue",null,null),a("clear")):a("update:modelValue",t,l),a("click",o))}function m(t,a){return void 0===t[a]?e[a]:t[a]}function p(){const a=u.value.map(e=>Object(l["p"])(o["a"],e.props,void 0!==e.slot?t[e.slot]:void 0));return void 0!==e.name&&!0!==e.disable&&!0===i.value&&d(a,"push"),Object(c["b"])(t.default,a)}return()=>Object(l["p"])(s["a"],{class:"q-btn-toggle",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,stretch:e.stretch,unelevated:e.unelevated,glossy:e.glossy,spread:e.spread},p)}})},"74f7":function(e,t,a){"use strict";var l=a("7a23"),o=a("0d59"),s=a("050a"),i=a("3da5"),r=a("a3ef");t["a"]=Object(s["a"])({name:"QInnerLoading",props:{...i["b"],...r["b"],showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const a=Object(l["o"])(),s=Object(i["a"])(e,a.proxy.$q),{transition:c,transitionStyle:n}=Object(r["a"])(e,Object(l["f"])(()=>e.showing)),d=Object(l["f"])(()=>"q-inner-loading absolute-full column flex-center"+(!0===s.value?" q-inner-loading--dark":"")),u=Object(l["f"])(()=>"q-inner-loading__label"+(void 0!==e.labelClass?" "+e.labelClass:""));function b(){const t=[Object(l["p"])(o["a"],{size:e.size,color:e.color})];return void 0!==e.label&&t.push(Object(l["p"])("div",{class:u.value,style:e.labelStyle},[e.label])),t}function m(){return!0===e.showing?Object(l["p"])("div",{class:d.value,style:n.value},void 0!==t.default?t.default():b()):null}return()=>Object(l["p"])(l["d"],{name:c.value,appear:!0},m)}})},b3fe:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var l=a("7a23"),o=a("e22d");function s(){return Object(l["q"])(o["d"])}}}]);
//# sourceMappingURL=EditarColaboradores.3a401d79.js.map